# Linux基础-ShellScript基础语法规则

## 基本规则

1. 从上到下，从左到右执行
2. 读取回车键时开始执行
3. 使用#进行注释
4. 忽略多个空白
5. 执行方法，./filename(执行权限必需)，或者使用脚本执行，/bin/bash filename ~/bin/sh filename ，一般这两个都在环境变量中，可以省略路径直接使用。
6. 以#!/bin/bash 开头（以脚本解释器路径开头）
7. 内容说明及环境变量定义
8. 使用exit num退出程序，num可以代表各种信息

## 使用函数和符号实现条件判断

```txt
通过test命令判断
test可以判断文件的属性、文件的权限、文件之间的比价、整数之间的大小判断、字符串的内容判断、以及逻辑组合判断（多重条件判断）
```

```txt
通过判断符号[]判断
[]符号两端需要用空格来分隔，中括号的使用需要注意以下三点：
    1. 中括号内的每个元素都用空格分隔开
    2. 中括号中的变量都使用双引号
    3. 中括号中的常量也使用双引号或者单引号
总结：只要不会引起语法错误就好，想清楚Linux的字符串拼接规则即可，上述规则也不一定要全部同时遵守
```

## Shell中的默认变量

```txt
$0  代表脚本本身
$1  代表传入脚本的第一个参数
$2  代表传入脚本的第二个参数
...
$n  代表传入脚本的第n个参数

$#  代表参数的个数
$@  代表"$1" "$2" ... "$n"
$*  代表$1<u>c</u>$2<u>c</u>$...<u>c</u>$n，<u>c</u>为分隔符，默认为空格,因此通常与$@同义

shift 可以直接执行，后可以接数字，表示将从$1开始的参数拿掉几个，默认为1个
```

## 条件判断

```bash
    if []; then
        ...
    fi
    # 使用#进行注释，中括号的使用与上面的相同，不同的是，这里可以使用&&、||符号连接多个中括号来进行条件判断，直接使用中括号时使用的是 -o 代表||，使用 -a 代表&&

    #多重条件判断
    if []; then
        ...
    elif []; then
        ...
    elif []; then
        ...
        ...
    else
        ...
    fi


    case $var in
        "var1")
        ...
        ;;  #以双分号结尾一个段落
        "var2")
        ...
        ;;
        *)
        ...
        ;;
    esac


    while []
    do
        ...
    done

    until []
    do
        ...
    done


    for var in var[]
    do
        ...
    done

    for ((i=0;i<10;i=i+1))#自动解析为数字，而不是字符串
    do
        ...
    done

    break
    continue
    用法和其它语言一样

    函数
    function fname ()
    {
        printf "%s" "hello world"
    }

    调用时不需要加入括号，参数使用空格分隔

    fname 参数1 参数2 ... #使用一个引号引起来则视为一个参数

    
    
```

## 括号的使用

```txt
    小括号()，括起来的内容将会新开一个shell进行执行，多个命令之间使用;分隔，两侧不需要分隔符，若使用在$(cmd)中，该命令相当于`cmd`，扫描脚本进行执行后输出的内容替换改代码，$(())双括号表示整型计算，省略$也可以

    中括号[]，中括号表示判断，其实相当于test语句，多重逻辑判断可以使用[ expra ]&&[ exprb ]类似的命令，也可以使用双重中括号[[ expra && exprb ]]，使用]

    花括号使用时{}两边要有分隔符，通常左边是空格，右边最后一个命令带分号，

    对{}和()而言, 括号中的重定向符只影响该条命令， 而括号外的重定向符影响到括号中的所有命令。
```

## test和[]小结


